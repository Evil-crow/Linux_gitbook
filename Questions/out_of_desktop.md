## 无法进入桌面环境

*相信很多同学可能遇到过, 开机后无法进入Linux操作系统的桌面,而且说面上提示的信息很少*

一般是会提示: 根目录满, 不能添加文件

我们解决的思路就是: **查找到占用空间的文件, 同时进行删除, 恢复 / 目录的空间以使得正常运行**

第一步:

```bash
df -h    # 查看文件占用情况
```

我们可以得到下图, 知道 / 目录占用满

![](http://p8pmsq2a4.bkt.clouddn.com/df_h.png)

那么,我们下来的步骤就是: 继续深入, 找出 / 目录下占用空间最大的文件

一步一步的找到**占用空间最大的(无效)文件**

**从我本人的经验来看, 一般就是/var/log中的问题**

删除文件之后,就好了.

但是这里有一个坑点: **删除了(无效)文件之后, 系统目录所占的空间仍然没有变化,真的没有变化**

**但是, 回过头来看, 空间大小还是被占用, 并没有什么变化**

这就是坑点了: 

**linux里的文件被删除后，空间没有被释放是因为在Linux系统中，**

**通过rm或者文件管理器删除文件将会从文件系统的目录结构上解除链接(unlink).**

**然而如果文件是被打开的(有一个进程正在使用)，那么进程将仍然可以读取该文件，**

**磁盘空间也一直被占用。**

解决办法就是:

```bash
lsof | grep deleted
```

**之后, 根据相应的pid号, 进行杀死进程即可**

重启,进入系统, 便可以恢复正常.